"use strict";
var gulp = require("gulp");
var util = require("gulp-util");
var runSequence = require("run-sequence");
var config_1 = require("./tools/config");
var utils_1 = require("./tools/utils");
utils_1.loadTasks(config_1.default.SEED_TASKS_DIR);
utils_1.loadTasks(config_1.default.PROJECT_TASKS_DIR);
utils_1.loadCompositeTasks(config_1.default.SEED_COMPOSITE_TASKS, config_1.default.PROJECT_COMPOSITE_TASKS);
var firstRun = true;
gulp.task('clean.once', function (done) {
    if (firstRun) {
        firstRun = false;
        runSequence('check.tools', 'clean.dev', 'clean.coverage', done);
    }
    else {
        util.log('Skipping clean on rebuild');
        done();
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3VscGZpbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJndWxwZmlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsMkJBQTZCO0FBQzdCLGdDQUFrQztBQUNsQywwQ0FBNEM7QUFFNUMseUNBQW9DO0FBQ3BDLHVDQUE4RDtBQUc5RCxpQkFBUyxDQUFDLGdCQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDakMsaUJBQVMsQ0FBQyxnQkFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFFcEMsMEJBQWtCLENBQUMsZ0JBQU0sQ0FBQyxvQkFBb0IsRUFBRSxnQkFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFNaEYsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQUMsSUFBUztJQUNoQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2IsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUNqQixXQUFXLENBQUMsYUFBYSxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixJQUFJLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDdEMsSUFBSSxFQUFFLENBQUM7SUFDVCxDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBndWxwIGZyb20gJ2d1bHAnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdndWxwLXV0aWwnO1xuaW1wb3J0ICogYXMgcnVuU2VxdWVuY2UgZnJvbSAncnVuLXNlcXVlbmNlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuL3Rvb2xzL2NvbmZpZyc7XG5pbXBvcnQgeyBsb2FkVGFza3MsIGxvYWRDb21wb3NpdGVUYXNrcyB9IGZyb20gJy4vdG9vbHMvdXRpbHMnO1xuXG5cbmxvYWRUYXNrcyhDb25maWcuU0VFRF9UQVNLU19ESVIpO1xubG9hZFRhc2tzKENvbmZpZy5QUk9KRUNUX1RBU0tTX0RJUik7XG5cbmxvYWRDb21wb3NpdGVUYXNrcyhDb25maWcuU0VFRF9DT01QT1NJVEVfVEFTS1MsIENvbmZpZy5QUk9KRUNUX0NPTVBPU0lURV9UQVNLUyk7XG5cblxuLy8gLS0tLS0tLS0tLS0tLS1cbi8vIENsZWFuIGRldi9jb3ZlcmFnZSB0aGF0IHdpbGwgb25seSBydW4gb25jZVxuLy8gdGhpcyBwcmV2ZW50cyBrYXJtYSB3YXRjaGVycyBmcm9tIGJlaW5nIGJyb2tlbiB3aGVuIGRpcmVjdG9yaWVzIGFyZSBkZWxldGVkXG5sZXQgZmlyc3RSdW4gPSB0cnVlO1xuZ3VscC50YXNrKCdjbGVhbi5vbmNlJywgKGRvbmU6IGFueSkgPT4ge1xuICBpZiAoZmlyc3RSdW4pIHtcbiAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgIHJ1blNlcXVlbmNlKCdjaGVjay50b29scycsICdjbGVhbi5kZXYnLCAnY2xlYW4uY292ZXJhZ2UnLCBkb25lKTtcbiAgfSBlbHNlIHtcbiAgICB1dGlsLmxvZygnU2tpcHBpbmcgY2xlYW4gb24gcmVidWlsZCcpO1xuICAgIGRvbmUoKTtcbiAgfVxufSk7XG4iXX0=